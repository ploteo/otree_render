{{ block title }}
Page title
{{ endblock }}

{{ block content }}

<div class="container box">
    <p>Please enter the amount of money you wish to send back in the second column. Your final
        payoff will be displayed in the third column, automatically calculated based on the amount
        you return.</p>

    <p>Only integer numbers are allowed in the second column</p>

    <table class="table">
        <thead>
            <tr>
                <th>Amount Received</th>
                <th>Amount you return</th>
                <th>Your payoff</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="amount_1">3</td>
                <td>
                    <input type="number" name="r_1" id="r_1" min="0" max="3" step="1" oninput="calculatePayoff(1)" style="width: 100px;">
                        {{ formfield_errors 'r_1' }}
                </td>
                <td id="payoff_1">0</td>
            </tr>
            <tr>
                <td id="amount_2">6</td>
                <td>
                    <input type="number" name="r_2" id="r_2" min="0" max="6" step="1" oninput="calculatePayoff(2)" style="width: 100px;">
                    {{ formfield_errors 'r_2' }}
                </td>
                <td id="payoff_2">0</td>
            </tr>
            <tr>
                <td id="amount_3">9</td>
                <td>
                    <input type="number" name="r_3" id="r_3" min="0" max="9" step="1" oninput="calculatePayoff(3)" style="width: 100px;">
                    {{ formfield_errors 'r_3' }}
                </td>
                <td id="payoff_3">0</td>
            </tr>
            <tr>
                <td id="amount_4">12</td>
                <td>
                    <input type="number" name="r_4" id="r_4" min="0" max="12" step="1" oninput="calculatePayoff(4)" style="width: 100px;">
                    {{ formfield_errors 'r_4' }}
                </td>
                <td id="payoff_4">0</td>
            </tr>
            <tr>
                <td id="amount_5">15</td>
                <td>
                    <input type="number" name="r_5" id="r_5" min="0" max="15" step="1" oninput="calculatePayoff(5)" style="width: 100px;">
                    {{ formfield_errors 'r_5' }}
                </td>
                <td id="payoff_5">0</td>
            </tr>
            <tr>
                <td id="amount_6">18</td>
                <td>
                    <input type="number" name="r_6" id="r_6" min="0" max="18" step="1" oninput="calculatePayoff(6)" style="width: 100px;">
                    {{ formfield_errors 'r_6' }}
                </td>
                <td id="payoff_6">0</td>
            </tr>
            <tr>
                <td id="amount_7">21</td>
                <td>
                    <input type="number" name="r_7" id="r_7" min="0" max="21" step="1" oninput="calculatePayoff(7)" style="width: 100px;">
                    {{ formfield_errors 'r_7' }}
                </td>
                <td id="payoff_7">0</td>
            </tr>
            <tr>
                <td id="amount_8">24</td>
                <td>
                    <input type="number" name="r_8" id="r_8" min="0" max="24" step="1" oninput="calculatePayoff(8)" style="width: 100px;">
                    {{ formfield_errors 'r_8' }}
                </td>
                <td id="payoff_8">0</td>
            </tr>
            <tr>
                <td id="amount_9">27</td>
                <td>
                    <input type="number" name="r_9" id="r_9" min="0" max="27" step="1" oninput="calculatePayoff(9)" style="width: 100px;">
                    {{ formfield_errors 'r_9' }}
                </td>
                <td id="payoff_9">0</td>
            </tr>
            <tr>
                <td id="amount_10">30</td>
                <td>
                    <input type="number" name="r_10" id="r_10" min="0" max="30" step="1" oninput="calculatePayoff(10)" style="width: 100px;"">
                    {{ formfield_errors 'r_10' }}
                </td>
                <td id="payoff_10">0</td>
            </tr>
            <!-- Add more rows as needed -->
        </tbody>
    </table>
</div>

<div class="row">
    <br>
    <div class="col-md-10 text-end">
        <button id="btn_submit" class="btn btn-outline-primary btn-lg">OK, confirm my choice</button>
    </div>
</div>

{{ endblock }}

{{ block styles }}

<link rel="stylesheet" href="{% static 'global/mystyle.css' %}" />

{{ endblock }}

{{ block scripts }}

    <script>
        function calculatePayoff(index) {
            const returnAmount = document.getElementById(`r_${index}`).value;
            const payoffElement = document.getElementById(`payoff_${index}`);
            const amountSent = parseFloat(document.getElementById(`amount_${index}`).textContent);
            const finalPayoff = amountSent - returnAmount; // Example calculation
            payoffElement.textContent = finalPayoff;
        }
    </script>

{{ endblock }}